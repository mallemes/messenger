<!doctype html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layouts/base.html"
      xmlns:th="http://www.thymeleaf.org">


<div layout:fragment="content" class="mt-3">
    <div class="row">
<!--        <div class="col-lg-3 position-relative">-->
<!--            <ol class="list-group">-->
<!--                <li class="list-group-item d-flex justify-content-between align-items-start active">-->
<!--                    <div class="ms-2 me-auto">-->
<!--                        <img width="30" height="30" style="border-radius: 30px" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTDJzEaxLN-jGRYYUO65pWu7Q9GXoNt4LUSSA&usqp=CAU" alt=".">-->
<!--                        <a href="#" class="fw-bold" style="color: white">Subheading</a>-->
<!--                    </div>-->
<!--                </li>-->
<!--                <li class="list-group-item d-flex justify-content-between align-items-start">-->
<!--                    <div class="ms-2 me-auto">-->
<!--                        <img width="30" height="30" style="border-radius: 30px" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTDJzEaxLN-jGRYYUO65pWu7Q9GXoNt4LUSSA&usqp=CAU" alt=".">-->
<!--                        <a href="#" class="fw-bold" >Subheading</a>-->
<!--                    </div>-->
<!--                </li>-->
<!--                <li class="list-group-item d-flex justify-content-between align-items-start">-->
<!--                    <div class="ms-2 me-auto">-->
<!--                        <img width="30" height="30" style="border-radius: 30px" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTDJzEaxLN-jGRYYUO65pWu7Q9GXoNt4LUSSA&usqp=CAU" alt=".">-->
<!--                        <a href="#" class="fw-bold" >Subheading</a>-->
<!--                    </div>-->
<!--                </li>-->
<!--            </ol>&lt;!&ndash; End with custom content &ndash;&gt;-->
<!--        </div>-->
        <div class="col-lg-12 position-relative">
            <div class="chat-wrapper pt-0 w-100 position-relative scroll-bar bg-white theme-dark-bg">
                <div class="chat-body p-3 ">
                    <div class="messages-content pb-5" th:each="chat: ${chats}">
                        <div class="message-item" th:if="${chat.toUser.id != toUser.id}">
                            <div class="message-user" >
                                <figure class="avatar d-flex">
                                    <img th:src="${toUser.loadUserAvatar()}" alt="image">
                                    <div  class="message-wrap" >
                                        <span th:text="${chat.message}"></span>
                                           <p class="time text-end">01:35 PM</p>
                                    </div>
                                </figure>
                            </div>
                        </div>
                        <div class="message-item outgoing-message" th:if="${chat.toUser.id == toUser.id}">
                            <div class="message-user">
                                <div  class="message-wrap">
                                    <span th:text="${chat.message}"></span>
                                    <p class="time text-end">01:35 PM</p>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
            <div class="chat-bottom dark-bg p-3 shadow-none theme-dark-bg" style="width: 98%;">
                <form class="chat-form" method="post" th:action="@{'/chat/send/message/'+${toUser.username}}">
                    <button class="bg-grey float-left"><i class="bi bi-image"></i></button>
                    <div class="form-group">
                        <input class="form-control" name="message" style="color: black" type="text" placeholder="Start typing..">
                    </div>
                    <button class="bg-current"><i class="bi bi-arrow-right-circle"></i></button>
                </form>
            </div>
        </div>

    </div>
</div>


</html>